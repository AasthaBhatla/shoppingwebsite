<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout | Thrifty</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="container">
            <div class="navbar">
                <div class="logo">
                    <img src="images/thrifty logo.jpg" width="125px" alt="logo of the website">
                </div>
                <nav>
                    <ul id="menuitems">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="products.html">Products</a></li>
                        <li><a href="about.html">About</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>

    <!-- Checkout Section -->
    <div class="small-container checkout-page">
        <h1>Checkout</h1>

        <div class="row">
            <!-- User Form -->
            <div class="col-2">
                <h3>Billing Details</h3>
                <form id="checkoutForm">
                    <input type="text" placeholder="Full Name" required>
                    <input type="email" placeholder="Email" required>
                    <input type="text" placeholder="Phone Number" required>
                    <input type="text" placeholder="Address" required>
                    <input type="text" placeholder="City" required>
                    <input type="text" placeholder="Postal Code" required>
                    <button type="submit" class="btn">Place Order</button>
                </form>
            </div>

            <!-- Cart Summary -->
            <div class="col-2">
                <h3>Order Summary</h3>
                <div id="summary"></div>
                <h3 id="totalAmount">Total: Rs. 0</h3>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="footer-col">
                    <img src="images/thrifty logo.jpg" alt="Thrifty Logo" style="width: 120px;">
                    <p>Affordable, sustainable shopping that promotes reuse, supports causes, and builds community through unique thrifted finds.</p>
                </div>
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="products.html">Products</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="cart.html">Cart</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Follow Us</h3>
                    <ul>
                        <li><a href="https://www.facebook.com/">Facebook</a></li>
                        <li><a href="https://x.com/">Twitter</a></li>
                        <li><a href="https://www.instagram.com/">Instagram</a></li>
                        <li><a href="https://www.linkedin.com/">LinkedIn</a></li>
                    </ul>
                </div>
            </div>
            <hr>
            <p class="copy">&copy; Copyright 2024</p>
        </div>
     </div>    

    <!-- Script for Checkout Summary -->
    <script>
        const summary = document.getElementById("summary");
        const totalAmount = document.getElementById("totalAmount");

        function displaySummary() {
            const cart = JSON.parse(localStorage.getItem("cart")) || [];
            summary.innerHTML = "";
            let total = 0;

            cart.forEach(item => {
                const div = document.createElement("div");
                div.classList.add("summary-item");
                div.innerHTML = `
                    <p><strong>${item.name}</strong> (${item.size}) x ${item.quantity} - Rs. ${item.price * item.quantity}</p>
                `;
                summary.appendChild(div);
                total += item.price * item.quantity;
            });

            totalAmount.textContent = `Total: Rs. ${total}`;
        }

        document.getElementById("checkoutForm").addEventListener("submit", function(e) {
    e.preventDefault();
    
    const cart = JSON.parse(localStorage.getItem("cart")) || [];
    if (cart.length === 0) {
        alert("Your cart is empty! Please add items before checking out.");
        return;
    }

    alert("Thank you for your order! A confirmation will be sent to your email.");
    localStorage.removeItem("cart");
    window.location.href = "index.html";
    });

        displaySummary();
    </script>
</body>
</html>
